<!--
Notes:
business_application is created for every business transaction.
The generalinfoid is immutable. It links to whatever general info is current at the moment of creation
-->
<schema adapter="bplsdb">
	<element tablename="business_application">
		<field name="objid" primary="true" prefix="BAPP"/>
		<field name="appno" required="true"/>
		<field name="txnmode" required="true"/>
		<field name="apptype" required="true"/>
		<field name="appdate" required="true"/>
		<field name="businessyearid" required="true" updatable="false"/>
		<field name="geninfoid" required="true" updatable="false"/>
		<field name="remarks" />
		<field name="taskid" />	
		<field name="txndate" />	

		<!-- for traversing during save -->
		<complex name="lobs" ref="business_application_lob" jointype="one-to-many" required="false">
			<key field="objid" target="appid" />
		</complex>	

		<complex name="retiredlobs" ref="business_application_lob_retired" jointype="one-to-many" required="false">
			<key field="objid" target="appid" />
		</complex>

		<complex name="infos" ref="business_application_info" jointype="one-to-many" required="false">
			<key field="objid" target="appid" />
		</complex>	

		<complex name="requirements" ref="business_application_requirement" jointype="one-to-many" required="false">
			<key field="objid" target="appid" />
		</complex>	

	</element>
</schema>